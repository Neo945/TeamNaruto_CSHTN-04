(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t){e.exports="data:image/png;base64,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"},141:function(e,t,a){e.exports=a(196)},146:function(e,t,a){},196:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=(a(146),a(147),a(7)),i=a.n(l),s=a(14),u=a(9),m=a(38),p=a(76),d=a.n(p),h=a(77),b=a.n(h),f=function(e){var t=r.a.useState({username:"",email:"",password:"",password_confirmation:""}),a=Object(u.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n.password===n.password_confirmation?d()(n.email)&&b()(n.password)?fetch("/api/user/register",{method:"POST",credentials:"include",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){201===e.status&&(window.location.href="/login"),e.json()}).then(function(e){console.log(e)}):alert("Not a valid email or strong password"):alert("password not match")}},r.a.createElement("label",null,"Username:",r.a.createElement("input",{type:"text",name:"username",value:n.username,onChange:function(e){c(Object(m.a)({},n,{username:e.target.value}))}})),r.a.createElement("br",null),r.a.createElement("label",null,"Email:",r.a.createElement("input",{type:"email",name:"email",value:n.email,onChange:function(e){c(Object(m.a)({},n,{email:e.target.value}))}})),r.a.createElement("br",null),r.a.createElement("label",null,"Password:",r.a.createElement("input",{type:"password",name:"password",value:n.password,onChange:function(e){c(Object(m.a)({},n,{password:e.target.value}))}})),r.a.createElement("br",null),r.a.createElement("label",null,"Confirm Password:",r.a.createElement("input",{type:"password",name:"confirmPassword",value:n.password_confirmation,onChange:function(e){c(Object(m.a)({},n,{password_confirmation:e.target.value}))}})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Submit"}))))},g=a(29),E=a(22),v=a(247),y=a(249),w=a(71),x=a(250),j=a(251),O=a(253),k=a(252),C=a(10),N=a(244),S=a(26),A=Object(N.a)(function(e){return{appBar:Object(C.a)({boxShadow:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(0,"px)"),marginLeft:0}),title:{flexGrow:1,alignItems:"center",display:"flex",textDecoration:"none"},image:{marginRight:"10px"},menuButton:Object(C.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),grow:{flexGrow:1},search:Object(C.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(S.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(S.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(C.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}});function B(e){var t=e.totalItems,a=A(),n=Object(E.h)();return r.a.createElement("div",null,r.a.createElement(v.a,{position:"fixed",className:a.appBar,color:"inherit"},r.a.createElement(y.a,null,r.a.createElement(w.a,{component:g.b,to:"/",variant:"h6",className:a.title,color:"inherit"},r.a.createElement("img",{src:"https://www.onlinelogomaker.com/blog/wp-content/uploads/2017/06/shopping-online.jpg",alt:"",height:"25px",className:a.image}),"ourGrocery"),"/"===n.pathname&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.button},r.a.createElement(x.a,{component:g.b,to:"/cart","aria-label":"Show cart items",color:"inherit"},r.a.createElement(j.a,{badgeContent:t,color:"secondary"},r.a.createElement(k.a,null))))),"/login"!==n.pathname||"/login"!==n.pathname?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{variant:"text",onClick:function(){fetch("/api/user/logout",{method:"GET",credentials:"include",mode:"cors",headers:{"Content-type":"application/json"}}).then(function(e){200===e.status&&(localStorage.setItem("user",null),window.location.href="/")})}},"Logout"),r.a.createElement("div",{className:a.button})):r.a.createElement(r.a.Fragment,null))))}var T=a(262),R=a(16),z=a(276),W=a(284),F=a(283),I=a(282),L=a(279),P=a(124),X=a(119),J=a.n(X),U=a(280),q=a(122),Y=a.n(q),_=a(288),D=a(120),G=new(a.n(D).a)("pk_30679bbf8f408228f3315072e7cb2e4b6e09a49f04aa3",!0);var V=function(e){var t=e.handleAddToCart,a=e.products,c=e.handleRemoveCart,o=e.cart,l=e.user,m=Object(n.useState)(),p=Object(u.a)(m,2),d=p[0],h=p[1],b=r.a.useState([]),f=Object(u.a)(b,2),E=f[0],v=f[1],y=Object(n.useState)("en-US"),w=Object(u.a)(y,2),x=w[0],j=w[1],O=function(e){j(e)};Object(n.useEffect)(function(){fetch("/api/message/get?limit=".concat(1),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors"}).then(function(e){return e.json()}).then(function(e){return console.log(e)}),T("Welcome")},[]);var k=Object(n.useState)(!0),C=Object(u.a)(k,2),N=C[0],S=C[1],A=function(){S(!N)},B=function(){var e=Object(s.a)(i.a.mark(function e(n){var r,l,s,u,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/message/send",{method:"POST",credentials:"include",mode:"cors",body:JSON.stringify({message:n,language:x}),headers:{"Content-type":"application/json; charset=UTF-8"}});case 3:return r=e.sent,e.next=6,r.json();case 6:l=e.sent,s={who:l.user,content:n},u={who:"bot",content:l.message.response},v([].concat(Object(R.a)(E),[s,u])),console.log(o),l.product&&a.forEach(function(e){return e.name===l.product?t(e.id,1):null}),l.Removeproduct&&(console.log(l),console.log(a),o.line_items.forEach(function(e){return e.product_name===l.Removeproduct?c(e.id):null})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),m={who:"bot",content:" Error just occured, please check the problem"},v([].concat(Object(R.a)(E),[m]));case 19:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(s.a)(i.a.mark(function e(t){var a,n,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/message/event",{method:"POST",credentials:"include",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify({event:t,language:x})});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r={who:"bot",content:n.message.response},console.log(n),v([].concat(Object(R.a)(E),[r])),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),c={who:"bot",content:" Error just occured, please check the problem"},console.log("error"),v([].concat(Object(R.a)(E),[c]));case 17:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,N?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:360,border:"none",position:"absolute",right:"5%",bottom:"15%"}},r.a.createElement(z.a,{style:{borderRadius:"18px",borderRight:"2px solid #f79902",borderBottom:"2px solid #f79902"}},r.a.createElement("div",{style:{float:"right"}},"hi"===x?r.a.createElement(I.a,{style:{borderRadius:20,width:18,height:15,color:"rgb(89, 109, 240)",backgroundColor:"white",fontSize:10},variant:"contained",onClick:function(){O("hi")}},"\u0939\u093f\u0902\u0926\u0940"):r.a.createElement(I.a,{style:{borderRadius:20,width:18,height:15,backgroundColor:"rgb(89, 109, 240)",fontSize:10},variant:"contained",onClick:function(){O("hi")}},"\u0939\u093f\u0902\u0926\u0940"),"en-US"===x?r.a.createElement(I.a,{style:{borderRadius:20,color:"rgb(89, 109, 240)",backgroundColor:"white",width:10,height:15,fontSize:10},variant:"contained",onClick:function(){O("en-US")}},"ENG"):r.a.createElement(I.a,{style:{borderRadius:20,backgroundColor:"rgb(89, 109, 240)",width:10,height:15,fontSize:10},variant:"contained",onClick:function(){O("en-US")}},"ENG")),r.a.createElement(F.a,null,r.a.createElement("div",null,r.a.createElement("div",{style:{color:"black",position:"absolute",zIndex:10,marginTop:"1.9rem"}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement("img",{src:"https://www.onlinelogomaker.com/blog/wp-content/uploads/2017/06/shopping-online.jpg",alt:"",height:"25px",style:{borderRadius:20}})),r.a.createElement("div",null,r.a.createElement(L.a,{variant:"h6",component:"h6",color:"white"},"ourGrocery"))),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"h5",component:"h5",color:"white"},"Hi ",l.username,"!")),r.a.createElement(P.a,{fill:"#f79902",paused:!1,options:{height:20,amplitude:20,speed:.2,points:3}})),r.a.createElement("div",{style:{height:"100%",width:"100%",overflow:"auto",maxHeight:200}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement("div",null,r.a.createElement(I.a,{style:{border:"1px solid #f79902",color:"#f79902"},onClick:function(){T("add_product")}},"Add")),r.a.createElement("div",null,r.a.createElement(I.a,{style:{border:"1px solid #f79902",color:"#f79902"},onClick:function(){T("remove_product")}},"Remove")),r.a.createElement("div",null,r.a.createElement(I.a,{component:g.b,to:"/cart",style:{border:"1px solid #f79902",color:"#f79902"}},"View"))),E.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,"bot"===e.who?r.a.createElement("div",null,r.a.createElement(U.a,{style:{width:"20px",height:"20px",clear:"both"},src:"https://cdn.dribbble.com/users/2585668/screenshots/10500391/media/2d0a20bb69688cd3fbb1160260e0e691.png?compress=1&resize=400x300"}),r.a.createElement("div",{style:{color:"white",backgroundColor:"rgb(89, 109, 240)",padding:10,float:"left",borderRadius:"0px 20px 20px 20px"}},e.content)):r.a.createElement("div",{style:{clear:"both",position:"relative"}},r.a.createElement("div",{style:{position:"absolute",right:"0%"}},r.a.createElement(U.a,{style:{width:"20px",height:"20px"}},e.who.toUpperCase()[0])),r.a.createElement("div",{style:{color:"white",backgroundColor:"#f79902",padding:10,float:"right",borderRadius:"20px 0px 20px 20px",marginTop:25}},e.content))))}))),r.a.createElement(W.a,null,r.a.createElement("input",{type:"text",className:"textInput",onChange:function(e){return h(e.target.value)},style:{margin:0,width:"100%",height:"100%",borderRadius:"4px",padding:"5px",fontSize:"1rem",border:"none"},size:"small",placeholder:"Send a message...",onKeyPress:function(e){if("Enter"===e.key){if(!e.target.value)return alert("you need to type somthing first");B(e.target.value),e.target.value=""}}}),r.a.createElement(_.a,{onClick:function(){B(d),h("")}},r.a.createElement(Y.a,null)))))),r.a.createElement("div",{style:{position:"absolute",right:"0%",top:"80%"}},N?r.a.createElement("img",{onClick:function(){return A()},width:"110px",height:"80px",src:"https://cdn.dribbble.com/users/2585668/screenshots/10500391/media/2d0a20bb69688cd3fbb1160260e0e691.png?compress=1&resize=400x300",alt:"chat"}):r.a.createElement("img",{onClick:function(){return A()},style:{marginRight:20,marginTop:10},src:J.a,alt:"chat"})))},H=a(257),K=a(258),Q=a(259),Z=a(260),M=a(261),$=Object(N.a)(function(){return{root:{maxWidth:"100%"},media:{height:0,paddingTop:"56.25%"},cardActions:{display:"flex",justifyContent:"flex-end"},cardContent:{display:"flex",justifyContent:"space-between"}}});function ee(e){var t=e.product,a=e.handleAddToCart,n=(e.handleEmptyCart,$());return r.a.createElement(H.a,{className:n.root},r.a.createElement(K.a,{className:n.media,image:t.media.source,title:t.name}),r.a.createElement(Q.a,null,r.a.createElement("div",{className:n.cardContent},r.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),r.a.createElement(w.a,{gutterBottom:!0,variant:"h5",component:"h2"},"$",t.price.formatted)),r.a.createElement(w.a,{dangerouslySetInnerHTML:{__html:t.description},variant:"body2",color:"textSecondary",component:"p"})),r.a.createElement(Z.a,{disableSpacing:!0,className:n.cardActions},r.a.createElement(x.a,{"aria-label":"Add to Cart",onClick:function(){return a(t.id,1)}},r.a.createElement(M.a,null))))}var te=Object(N.a)(function(e){return{toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},root:{flexGrow:1}}});function ae(e){var t=e.cart,a=e.products,n=e.handleAddToCart,c=e.handleEmptyCart,o=e.user,l=e.handleRemoveCart,i=te();return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:i.content},r.a.createElement("div",{className:i.toolbar}),r.a.createElement(T.a,{container:!0,justifyContent:"center",spacing:4},a.map(function(e){return r.a.createElement(T.a,{key:e.id,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(ee,{product:e,handleAddToCart:n,handleEmptyCart:c}))}))),r.a.createElement(V,{cart:t,user:o,handleAddToCart:n,products:a,handleRemoveCart:l}))}var ne=Object(N.a)(function(e){var t;return{toolbar:e.mixins.toolbar,title:{marginTop:"5%"},emptyButton:(t={minWidth:"150px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginBottom:"5px"}),Object(C.a)(t,e.breakpoints.up("xs"),{marginRight:"20px"}),t),checkoutButton:{minWidth:"150px"},link:{textDecoration:"none"},cardDetails:{display:"flex",marginTop:"10%",width:"100%",justifyContent:"space-between"}}}),re=a(263),ce=Object(N.a)(function(){return{media:{height:260},cardContent:{display:"flex",justifyContent:"space-between"},cartActions:{justifyContent:"space-between"},buttons:{display:"flex",alignItems:"center"}}}),oe=function(e){var t=e.item,a=e.handleRemoveCart,n=e.handleUpdateCart,c=ce();return r.a.createElement(H.a,{className:"cart-item"},r.a.createElement(K.a,{image:t.media.source,alt:t.name,className:c.media}),r.a.createElement(Q.a,{className:c.cardContent},r.a.createElement(w.a,{variant:"h4"},t.name),r.a.createElement(w.a,{variant:"h5"},t.line_total.formatted_with_symbol)),r.a.createElement(Z.a,{className:c.cardActions},r.a.createElement("div",{className:c.buttons},r.a.createElement(O.a,{type:"button",size:"small",onClick:function(){return n(t.id,t.quantity-1)}},"-"),r.a.createElement(w.a,null,"\xa0",t.quantity,"\xa0"),r.a.createElement(O.a,{type:"button",size:"small",onClick:function(){return n(t.id,t.quantity+1)}},"+")),r.a.createElement(O.a,{variant:"contained",type:"button",color:"secondary",onClick:function(){return a(t.id)}},"Remove")))};function le(e){var t=e.cart,a=e.handleUpdateCart,n=e.handleRemoveCart,c=e.handleEmptyCart,o=ne(),l=function(){return r.a.createElement(w.a,{variant:"subtitle1"},"You have no items in your shopping cart,",r.a.createElement(g.b,{className:o.link,to:"/"},"start adding some"),"!")},i=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{container:!0,spacing:3},t.line_items.map(function(e){return r.a.createElement(T.a,{item:!0,xs:12,sm:4,key:e.id},r.a.createElement(oe,{handleUpdateCart:a,handleRemoveCart:n,item:e}))})),r.a.createElement("div",{className:o.cardDetails},r.a.createElement(w.a,{variant:"h4"},"Subtotal:",t.subtotal.formatted_with_symbol),r.a.createElement("div",null,r.a.createElement(O.a,{className:o.emptyButton,size:"large",variant:"contained",color:"secondary",type:"button",onClick:c},"Empty Cart"),r.a.createElement(O.a,{className:o.checkoutButton,size:"large",type:"button",variant:"contained",color:"primary",component:g.b,to:"/checkout"},"Checkout"))))};return t.line_items?r.a.createElement(re.a,null,r.a.createElement("div",{className:o.toolbar}),r.a.createElement(w.a,{className:o.title,variant:"h3",gutterBottom:!0},"Your Shopping Cart"),t.line_items.length?r.a.createElement(i,null):r.a.createElement(l,null)):"Loading"}var ie=a(270),se=a(271),ue=a(272),me=a(126),pe=a(287),de=a(273),he=a(277),be=Object(N.a)(function(e){var t;return{appBar:{position:"relative"},toolbar:e.mixins.toolbar,layout:Object(C.a)({marginTop:"5%",width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(t={marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},Object(C.a)(t,e.breakpoints.down("xs"),{width:"100%",marginTop:60}),Object(C.a)(t,e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),t),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},divider:{margin:"20px 0"},spinner:{display:"flex",justifyContent:"center",alignItems:"center"}}}),fe=a(286),ge=a(274),Ee=a(267),ve=a(268),ye=a(62),we=a(281);var xe=function(e){var t=e.name,a=e.label,n=Object(ye.d)().control;return r.a.createElement(T.a,{item:!0,xs:12,sm:6},r.a.createElement(ye.a,{render:function(e){var t=e.field;return r.a.createElement(we.a,Object.assign({},t,{label:a,required:!0}))},name:t,control:n,label:a,fullWidth:!0,error:!1}))};function je(e){var t=e.checkoutToken,a=e.next,c=Object(n.useState)([]),o=Object(u.a)(c,2),l=o[0],p=o[1],d=Object(n.useState)(""),h=Object(u.a)(d,2),b=h[0],f=h[1],g=Object(n.useState)([]),E=Object(u.a)(g,2),v=E[0],y=E[1],x=Object(n.useState)(""),j=Object(u.a)(x,2),k=j[0],C=j[1],N=Object(n.useState)([]),S=Object(u.a)(N,2),A=S[0],B=S[1],R=Object(n.useState)(""),z=Object(u.a)(R,2),W=z[0],F=z[1],I=Object(ye.c)(),L=function(){var e=Object(s.a)(i.a.mark(function e(t){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.services.localeListShippingCountries(t);case 2:a=e.sent,n=a.countries,p(n),f(Object.keys(n)[0]);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(i.a.mark(function e(t){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.services.localeListSubdivisions(t);case 2:a=e.sent,n=a.subdivisions,y(n),C(Object.keys(n)[0]);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(s.a)(i.a.mark(function e(t,a){var n,r,c=arguments;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:null,e.next=3,G.checkout.getShippingOptions(t,{country:a,region:n});case 3:r=e.sent,B(r),F(r[0].id);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){L(t.id)},[]),Object(n.useEffect)(function(){b&&P(b)},[b]),Object(n.useEffect)(function(){k&&X(t.id,b,k)},[k]),r.a.createElement("div",null,r.a.createElement(w.a,{variant:"h6",gutterBottom:!0},"Shipping Address"),r.a.createElement(ye.b,I,r.a.createElement("form",{onSubmit:I.handleSubmit(function(e){return a(Object(m.a)({},e,{shippingCountry:b,shippingSubdivision:k,shippingOption:W}))})},r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(xe,{name:"firstName",label:"First name"}),r.a.createElement(xe,{name:"lastName",label:"Last name"}),r.a.createElement(xe,{name:"address1",label:"Address line 1"}),r.a.createElement(xe,{name:"email",label:"Email"}),r.a.createElement(xe,{name:"city",label:"City"}),r.a.createElement(xe,{name:"zip",label:"Zip / Postal code"}),r.a.createElement(T.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,null,"Shipping Country"),r.a.createElement(ge.a,{value:b,fullWidth:!0,onChange:function(e){return f(e.target.value)}},Object.entries(l).map(function(e){var t=Object(u.a)(e,2);return{id:t[0],label:t[1]}}).map(function(e){return r.a.createElement(Ee.a,{key:e.id,value:e.id},e.label)}))),r.a.createElement(T.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,null,"Shipping Subdivision"),r.a.createElement(ge.a,{value:k,fullWidth:!0,onChange:function(e){return C(e.target.value)}},Object.entries(v).map(function(e){var t=Object(u.a)(e,2);return{id:t[0],label:t[1]}}).map(function(e){return r.a.createElement(Ee.a,{key:e.id,value:e.id},e.label)}))),r.a.createElement(T.a,{item:!0,xs:12,sm:6},r.a.createElement(fe.a,null,"Shipping Options"),r.a.createElement(ge.a,{value:W,fullWidth:!0,onChange:function(e){return F(e.target.value)}},A.map(function(e){return{id:e.id,label:"".concat(e.description," - (").concat(e.price.formatted_with_symbol,")")}}).map(function(e){return r.a.createElement(Ee.a,{key:e.id,value:e.id},e.label)})))),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(O.a,{component:ve.a,variant:"outlined",to:"/cart"},"Back to Cart"),r.a.createElement(O.a,{type:"submit",variant:"contained",color:"primary"},"Next")))))}var Oe=a(70),ke=a(123),Ce=a(266),Ne=a(199),Se=a(269),Ae=function(e){var t=e.checkoutToken;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h6",gutterBottom:!0},"Order summary"),r.a.createElement(Ce.a,{disablePadding:!0},t.live.line_items.map(function(e){return r.a.createElement(Ne.a,{style:{padding:"10px 0"},key:e.name},r.a.createElement(Se.a,{primary:e.name,secondary:"Quantity: ".concat(e.quantity)}),r.a.createElement(w.a,{variant:"body2"},e.line_total.formatted_with_symbol))}),r.a.createElement(Ne.a,{style:{padding:"10px 0"}},r.a.createElement(Se.a,{primary:"Total"}),r.a.createElement(w.a,{variant:"subtitle1",style:{fontWeight:700}},t.live.subtotal.formatted_with_symbol))))};function Be(e){var t=e.nextStep,a=e.timeout,n=e.shippingData,c=e.handleCaptureCheckout,o=e.checkoutToken,l=e.backStep,u=Object(ke.a)("pk_test_51JG6aCSIfqi9f01IOu1eMZEBobJTNpsIqg2DoXH0kK8Ht7rA48EhNWf1UlrR4TOMpB81EaR8vkfJDdyBgpVebOsj00ZWsR1UQu"),m=function(){var e=Object(s.a)(i.a.mark(function e(r,l,s){var u,m,p,d,h;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),s&&l){e.next=3;break}return e.abrupt("return");case 3:return u=l.getElement(Oe.CardElement),e.next=6,s.createPaymentMethod({type:"card",card:u});case 6:m=e.sent,p=m.error,d=m.paymentMethod,p?console.log(p):(h={line_items:o.live.line_items,customer:{firstname:n.firstName,lastname:n.lastName,email:n.email},shipping:{name:"International",street:n.address1,town_city:n.city,county_state:n.shippingSubdivision,postal_zip_code:n.zip,country:n.shippingCountry},fulfillment:{shipping_method:n.shippingOption},payment:{gateway:"stripe",stripe:{payment_method_id:d.id}}},c(o.id,h),a(),t());case 10:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Ae,{checkoutToken:o}),r.a.createElement(ie.a,null),r.a.createElement(w.a,{variant:"h6",gutterBottom:!0,style:{margin:"20px 0 "}},"Payment Method"),r.a.createElement(Oe.Elements,{stripe:u},r.a.createElement(Oe.ElementsConsumer,null,function(e){var t=e.elements,a=e.stripe;return r.a.createElement("form",{onSubmit:function(e){return m(e,t,a)}},r.a.createElement(Oe.CardElement,null),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(O.a,{variant:"outlined",onClick:l},"Back"),r.a.createElement(O.a,{type:"submit",variant:"contained",disabled:!a,color:"primary"},"Pay ",o.live.subtotal.formatted_with_symbol)))})))}function Te(e){var t=e.error,a=e.cart,c=e.handleCaptureCheckout,o=e.order,l=Object(E.g)(),m=be(),p=Object(n.useState)(),d=Object(u.a)(p,2),h=d[0],b=d[1],f=Object(n.useState)({}),v=Object(u.a)(f,2),y=v[0],x=v[1],j=["Shipping address","Payment Details"],k=Object(n.useState)(!1),C=Object(u.a)(k,2),N=C[0],S=C[1],A=Object(n.useState)(0),B=Object(u.a)(A,2),T=B[0],R=B[1],z=function(){return R(function(e){return e+1})},W=function(){return R(function(e){return e-1})},F=function(){return 0===T?r.a.createElement(je,{checkoutToken:h,next:I}):r.a.createElement(Be,{timeout:L,nextStep:z,backStep:W,handleCaptureCheckout:c,shippingData:y,checkoutToken:h})};Object(n.useEffect)(function(){a.id&&function(){var e=Object(s.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.checkout.generateToken(a.id,{type:"cart"});case 3:t=e.sent,b(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),T!==j.length&&l.push("/");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()()},[a]);var I=function(e){x(e),z()},L=function(){S(!0)},P=function(){return o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w.a,{variant:"h5"},"Thank you for your purchase, ",o.customer.firstname," ",o.customer.lastname,"!"),r.a.createElement(ie.a,{className:m.divider}),r.a.createElement(w.a,{variant:"subtitle2"},"Order ref: ",o.customer_reference)),r.a.createElement("br",null),r.a.createElement(O.a,{component:g.b,variant:"outlined",type:"button",to:"/"},"Back to home")):N?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(w.a,{variant:"h5"},"Thank you for your purchase!"),r.a.createElement(ie.a,{className:m.divider})),r.a.createElement("br",null),r.a.createElement(O.a,{component:g.b,variant:"outlined",type:"button",to:"/"},"Back to home")):r.a.createElement("div",{className:m.spinner},r.a.createElement(se.a,null))};return t&&(P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h5"},"Thank you for your purchase!"),r.a.createElement("br",null),r.a.createElement(O.a,{component:g.b,variant:"outlined",type:"button",to:"/"},"Back to home"))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null),r.a.createElement("div",{className:m.toolbar}),r.a.createElement("main",{className:m.layout},r.a.createElement(me.a,{className:m.paper},r.a.createElement(w.a,{variant:"h4",align:"center"},"Checkout"),r.a.createElement(pe.a,{activeStep:T,className:m.stepper},j.map(function(e){return r.a.createElement(de.a,{key:e},r.a.createElement(he.a,null,e))})),T===j.length?r.a.createElement(P,null):h&&r.a.createElement(F,null))))}var Re=function(e){var t=r.a.useState({email:"",password:""}),a=Object(u.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__container"},r.a.createElement("div",{className:"login__container--title"},r.a.createElement("h1",null,"Welcome to Chatbot"),r.a.createElement("h2",null,"Please login to continue")),r.a.createElement("div",{className:"login__container--form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d()(n.email)&&b()(n.password)?(console.log(n),n.email&&n.password&&fetch("/api/user/login",{method:"POST",credentials:"include",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return 201===e.status&&(window.location.href="/"),e.json()}).then(function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e.user))})):console.log("Please fill all the fields")}},r.a.createElement("div",{className:"login__container--form--input"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",value:n.email,onChange:function(e){return c(Object(m.a)({},n,{email:e.target.value}))}})),r.a.createElement("div",{className:"login__container--form--input"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",value:n.password,onChange:function(e){return c(Object(m.a)({},n,{password:e.target.value}))}})),r.a.createElement("div",{className:"login__container--form--input"},r.a.createElement("button",{type:"submit"},"Login")))))))};var ze=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),l=Object(u.a)(o,2),m=l[0],p=l[1],d=Object(n.useState)(),h=Object(u.a)(d,2),b=h[0],v=h[1],y=Object(n.useState)(),w=Object(u.a)(y,2),x=w[0],j=w[1],O=function(){var e=Object(s.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.products.list();case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,G.cart.retrieve();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(s.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.cart.add(t,a);case 2:n=e.sent,p(n.cart);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){O(),k()},[]);var N=function(){var e=Object(s.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.cart.update(t,{quantity:a});case 2:n=e.sent,p(n.cart);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(s.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.cart.remove(t);case 2:a=e.sent,p(a.cart);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.cart.empty();case 2:t=e.sent,p(t.cart);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(s.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.cart.refresh();case 2:t=e.sent,p(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.checkout.capture(t,a);case 3:n=e.sent,v(n),T(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j(e.t0.data.error.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}(),z=r.a.useState(JSON.parse(localStorage.getItem("user"))),W=Object(u.a)(z,2),F=W[0],I=W[1];return r.a.useEffect(function(){null===F&&fetch("/api/user/get",{method:"GET",credentials:"include",mode:"cors",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then(function(e){return e.json()}).then(function(e){e.user?(localStorage.setItem("user",JSON.stringify(e)),I(e)):(localStorage.setItem("user",null),I(null))})},[]),r.a.createElement(g.a,null,r.a.createElement(B,{totalItems:m.total_items}),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/login"},r.a.createElement(Re,null)),r.a.createElement(E.b,{exact:!0,path:"/register"},r.a.createElement(f,null)),r.a.createElement(E.b,{exact:!0,path:"/chatbot"},F?r.a.createElement(ae,{user:F,products:a,handleAddToCart:C,handleEmptyCart:A,handleRemoveCart:S}):r.a.createElement(E.a,{to:"/login"})),r.a.createElement(E.b,{exact:!0,path:"/"},F?r.a.createElement(ae,{cart:m,user:F,products:a,handleAddToCart:C,handleEmptyCart:A,handleRemoveCart:S}):r.a.createElement(E.a,{to:"/login"})),r.a.createElement(E.b,{exact:!0,path:"/cart"},F?r.a.createElement(le,{cart:m,handleUpdateCart:N,handleRemoveCart:S,handleEmptyCart:A}):r.a.createElement(E.a,{to:"/login"})),r.a.createElement(E.b,{exact:!0,path:"/checkout"},r.a.createElement(Te,{cart:m,order:b,handleCaptureCheckout:R,error:x}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g.a,null,r.a.createElement(ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,1,2]]]);
//# sourceMappingURL=main.6ba85822.chunk.js.map